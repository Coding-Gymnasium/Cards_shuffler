<script src="https://code.jquery.com/jquery-3.5.0.js"></script>
<script src="https://cdn.jsdelivr.net/npm/lodash@4.17.21/lodash.min.js"></script>

<h1>Discover The Capital Cities Of The World</h1>

<button type="button" id="shuffle">Shuffle</button>

<div id='cards'>
  <% @cards.each do |card| %>
      <div class='card'>
        <figure>
          <%= image_tag(card.map_s, :size => '250x250') %>
          <figcaption>
            <h3><%= card.name %></h3>
            <p>Capital Of: <%= card.country %></p>
          </figcaption>
        </figure>
      </div>
  <% end %>
</div>

<script>
  const cardContainer = document.getElementById("cards")
  const button = document.getElementById("shuffle")
                                                                    
  button.addEventListener("click", (event) => {
    let cards = document.getElementsByClassName("card")
                                                                    
    let shuffled = _.shuffle(cards)
    cardContainer.innerHTML = ""
    shuffled.forEach(element => cardContainer.appendChild(element))
  })
</script>

