<script src="https://code.jquery.com/jquery-3.5.0.js"></script>
<script src="https://cdn.jsdelivr.net/npm/lodash@4.17.21/lodash.min.js"></script>
<% javascript_pack_tag 'featuredCard' %>

<h1>Discover The Capital Cities Of The World</h1>

<div id='featuredCard'>
        <figure>
          <%= image_tag(@cards.shuffle.first.map) %>
          <figcaption>
            <h3><%= @cards.shuffle.first.name %></h3>
            <p>Capital Of: <%= @cards.shuffle.first.country %></p>
          </figcaption>
        </figure>
 </div>

<button type='button' id='shuffle'>Shuffle</button>

<div id='cards'>

  <% @cards.each do |card| %>
      <div class='card' id='card' onClick="onClick(this)">
        <figure>
          <%= image_tag(card.map) %>
          <figcaption>
            <h3><%= card.name %></h3>
            <p>Capital Of: <%= card.country %></p>
          </figcaption>
        </figure>
      </div>
  <% end %>
</div>

<script>
  function onClick(card) {
    document.getElementById('featuredCard').replaceChildren(card.cloneNode(true))
    var mapImage = document.getElementById('featuredCard').getElementsByTagName('img')[0]
    mapImage.style.height = '600px'
    mapImage.style.width = '600px'
  }
</script>

